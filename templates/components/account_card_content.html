{% load format_filters %}
<div class="bg-slate-800 rounded-xl shadow-lg border border-slate-700 {{ border_hover }} transition-all duration-200 overflow-hidden">
  {# Card Header with Gradient #}
  <div class="bg-gradient-to-r {{ gradient_from }} {{ gradient_to }} p-6">
    <div class="flex items-start justify-between">
      {# Icon based on account type #}
      <div class="flex-shrink-0 w-12 h-12 {{ icon_bg }} rounded-lg flex items-center justify-center">
        {% if account.account_type == 'checking' %}
          {# Credit Card Icon #}
          <svg class="w-6 h-6 {{ icon_color }}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
          </svg>
        {% elif account.account_type == 'savings' %}
          {# Piggy Bank/Coin Icon #}
          <svg class="w-6 h-6 {{ icon_color }}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
        {% elif account.account_type == 'wallet' %}
          {# Wallet Icon #}
          <svg class="w-6 h-6 {{ icon_color }}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3"></path>
          </svg>
        {% elif account.account_type == 'investment' %}
          {# Chart/Bar Graph Icon #}
          <svg class="w-6 h-6 {{ icon_color }}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
          </svg>
        {% else %}
          {# Default Icon #}
          <svg class="w-6 h-6 {{ icon_color }}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
          </svg>
        {% endif %}
      </div>

      {# Account Type Badge #}
      <span class="px-3 py-1 {{ badge_bg }} {{ badge_text }} text-xs font-medium rounded-full border {{ badge_border }}">
        {{ account.get_account_type_display }}
      </span>
    </div>

    {# Account Name and Bank #}
    <div class="mt-4">
      <h3 class="text-xl font-bold text-white">{{ account.name }}</h3>
      {% if account.bank %}
        <p class="text-white/80 text-sm mt-1">{{ account.bank }}</p>
      {% endif %}
    </div>
  </div>

  {# Card Body #}
  <div class="p-6">
    {# Balance Display #}
    <div class="mb-6">
      <p class="text-slate-400 text-sm mb-1">Saldo Atual</p>
      <p class="text-3xl font-bold text-slate-100 font-mono">
        {{ account.current_balance|format_currency }}
      </p>
    </div>

    {# Action Buttons #}
    <div class="flex gap-2">
      {# View Button #}
      <a href="{% url 'accounts:detail' account.pk %}"
         class="flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-100 text-sm font-medium rounded-lg border border-slate-600 transition-all duration-200 text-center">
        Ver
      </a>

      {# Edit Button #}
      <a href="{% url 'accounts:update' account.pk %}"
         class="flex-1 px-4 py-2 bg-gradient-to-r {{ gradient_from }} {{ gradient_to }} hover:opacity-90 text-white text-sm font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-200 text-center">
        Editar
      </a>

      {# Delete Button #}
      <a href="{% url 'accounts:delete' account.pk %}"
         class="flex-1 px-4 py-2 bg-red-900/30 hover:bg-red-900/50 text-red-300 hover:text-red-200 text-sm font-medium rounded-lg border border-red-700 transition-all duration-200 text-center">
        Excluir
      </a>
    </div>
  </div>
</div>
