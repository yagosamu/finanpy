!function(){"use strict";const e={modal:null,init(){this.modal||(this.modal=document.createElement("div"),this.modal.id="shared-delete-modal",this.modal.className="fixed inset-0 z-[9998] hidden",this.modal.setAttribute("role","dialog"),this.modal.setAttribute("aria-modal","true"),this.modal.setAttribute("aria-labelledby","delete-modal-title"),this.modal.innerHTML='\n        <div class="fixed inset-0 bg-black/70 backdrop-blur-sm transition-opacity" data-dismiss="modal"></div>\n        <div class="fixed inset-0 flex items-center justify-center p-4">\n          <div class="bg-slate-800 rounded-xl shadow-2xl border border-red-600/30 max-w-md w-full transform transition-all duration-200 scale-95 opacity-0" id="shared-delete-modal-content">\n            <div class="flex items-center justify-center w-16 h-16 mx-auto mt-8 bg-red-900/30 rounded-full">\n              <svg class="w-8 h-8 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>\n              </svg>\n            </div>\n            <div class="p-8 text-center">\n              <h3 class="text-2xl font-bold text-slate-100 mb-3" id="delete-modal-title">Confirmar Exclusão</h3>\n              <p class="text-slate-300 mb-2" id="shared-delete-modal-message">\n                Tem certeza que deseja excluir este item?\n              </p>\n              <p class="text-slate-400 text-sm">\n                Esta ação não pode ser desfeita.\n              </p>\n            </div>\n            <div class="flex gap-3 px-8 pb-8">\n              <button type="button" data-dismiss="modal"\n                      class="flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-slate-100 font-medium rounded-lg border border-slate-600 transition-all duration-200">\n                Cancelar\n              </button>\n              <button type="button" id="shared-delete-modal-confirm"\n                      class="flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-200">\n                Confirmar Exclusão\n              </button>\n            </div>\n          </div>\n        </div>\n      ',document.body.appendChild(this.modal),this.modal.querySelectorAll('[data-dismiss="modal"]').forEach(e=>{e.addEventListener("click",()=>this.close())}),document.addEventListener("keydown",e=>{"Escape"!==e.key||this.modal.classList.contains("hidden")||this.close()}))},show(e,t){this.init(),e&&(document.getElementById("shared-delete-modal-message").textContent=e);const s=document.getElementById("shared-delete-modal-confirm"),n=s.cloneNode(!0);s.parentNode.replaceChild(n,s),n.addEventListener("click",()=>{t&&t(),this.close()}),this.modal.classList.remove("hidden"),requestAnimationFrame(()=>{const e=document.getElementById("shared-delete-modal-content");e.classList.remove("scale-95","opacity-0"),e.classList.add("scale-100","opacity-100")}),n.focus()},close(){const e=document.getElementById("shared-delete-modal-content");e.classList.add("scale-95","opacity-0"),e.classList.remove("scale-100","opacity-100"),setTimeout(()=>{this.modal.classList.add("hidden")},200)}},t={forms:new Map,init(){document.querySelectorAll('form[method="post"]').forEach(e=>{if(0===e.querySelectorAll('input:not([type="hidden"]), select, textarea').length)return;const t=this.serializeForm(e);this.forms.set(e,t),e.addEventListener("input",()=>this.markDirty(e)),e.addEventListener("change",()=>this.markDirty(e)),e.addEventListener("submit",()=>{e.dataset.submitting="true"})}),window.addEventListener("beforeunload",e=>{this.hasDirtyForms()&&(e.preventDefault(),e.returnValue="")})},serializeForm(e){const t=new FormData(e),s=[];for(const[e,n]of t.entries())"csrfmiddlewaretoken"!==e&&s.push(`${e}=${n}`);return s.sort().join("&")},markDirty(e){const t=this.forms.get(e),s=this.serializeForm(e);e.dataset.dirty=t!==s?"true":"false"},hasDirtyForms(){for(const[e]of this.forms)if("true"===e.dataset.dirty&&"true"!==e.dataset.submitting)return!0;return!1}},s={init(){document.querySelectorAll('form[method="post"]').forEach(e=>{e.addEventListener("submit",()=>{const t=e.querySelector('button[type="submit"]');t&&!t.disabled&&this.show(t)})})},show(e){if(!e)return;e.dataset.originalContent=e.innerHTML,e.disabled=!0,e.classList.add("opacity-75","cursor-not-allowed");const t=e.textContent.includes("Exclu")?"Excluindo...":"Salvando...";e.innerHTML=`\n        <svg class="animate-spin h-5 w-5 mr-2 inline-block" fill="none" viewBox="0 0 24 24">\n          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\n          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\n        </svg>\n        ${t}\n      `},hide(e){e&&e.dataset.originalContent&&(e.innerHTML=e.dataset.originalContent,delete e.dataset.originalContent,e.disabled=!1,e.classList.remove("opacity-75","cursor-not-allowed"))}};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('a[href*="/excluir/"]').forEach(t=>{t.addEventListener("click",s=>{s.preventDefault();const n=t.closest('[class*="bg-slate-800"]')||t.closest('[class*="border-slate"]'),o=n?.querySelector("h3, .text-xl, .font-bold:not(.text-3xl)"),a=o?.textContent?.trim()||"este item";e.show(`Tem certeza que deseja excluir "${a}"?`,()=>{window.location.href=t.href})})}),t.init(),s.init()}),window.DeleteModal=e,window.UnsavedChanges=t,window.LoadingState=s}();